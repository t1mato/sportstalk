{"ast":null,"code":"import _defineProperty from\"/Users/timato/Documents/WEB102/Final/forum/forum-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/timato/Documents/WEB102/Final/forum/forum-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/timato/Documents/WEB102/Final/forum/forum-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/timato/Documents/WEB102/Final/forum/forum-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/timato/Documents/WEB102/Final/forum/forum-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import'../pages/EditPost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var data=_ref.data;var _useParams=useParams(),id=_useParams.id;var _useState=useState({id:null,title:\"\",content:\"\",link:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var updatePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('SportsTalk').update({title:post.title,content:post.content,link:post.link}).eq('id',id);case 3:window.location=\"/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function updatePost(_x){return _ref2.apply(this,arguments);};}();var deletePost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return supabase.from('SportsTalk').delete().eq('id',id);case 3:window.location=\"http://localhost:3000/\";case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deletePost(_x2){return _ref3.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"box\",id:\"title\",name:\"title\",placeholder:\"Title\",value:post.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",className:\"box\",id:\"content\",name:\"content\",value:post.content,placeholder:\"Content (Optional)\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"box\",id:\"link\",name:\"link\",placeholder:\"Image URL (Optional)\",value:post.link,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Update Post\",onClick:updatePost}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:deletePost,children:\"Delete Post\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","supabase","EditPost","data","id","title","content","link","post","setPost","updatePost","event","preventDefault","from","update","eq","window","location","deletePost","delete","handleChange","target","name","value","prev"],"sources":["/Users/timato/Documents/WEB102/Final/forum/forum-main/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport '../pages/EditPost.css'\nimport { supabase } from '../client'\n\nconst EditPost = ({data}) => {\n\n    const {id} = useParams();\n    const [post, setPost] = useState({id: null, title: \"\", content: \"\", link: \"\"});\n\n    const updatePost = async (event) => {\n        event.preventDefault()\n\n        await supabase\n            .from('SportsTalk')\n            .update({title: post.title, content: post.content, link: post.link})\n            .eq('id', id)\n\n            window.location = \"/\"\n    }\n\n    const deletePost = async (event) => {\n        event.preventDefault()\n\n        await supabase\n            .from('SportsTalk')\n            .delete()\n            .eq('id', id)\n\n        window.location = \"http://localhost:3000/\"\n    }\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n        setPost( (prev) => {\n            return {\n                ...prev,\n                [name]:value,\n            }\n        })\n    }\n\n    return (\n        <div>\n            <form className=\"edit-form\">\n                <input \n                    type=\"text\" \n                    className=\"box\"\n                    id=\"title\" \n                    name=\"title\" \n                    placeholder=\"Title\" \n                    value={post.title} \n                    onChange={handleChange} />\n                <br/>\n\n                <textarea \n                    rows=\"5\" \n                    cols=\"50\" \n                    className=\"box\"\n                    id=\"content\" \n                    name=\"content\" \n                    value={post.content}\n                    placeholder=\"Content (Optional)\" \n                    onChange={handleChange}>\n                </textarea>\n                <br />\n\n                <input\n                    type=\"text\"\n                    className=\"box\"\n                    id=\"link\"\n                    name=\"link\"\n                    placeholder=\"Image URL (Optional)\"\n                    value={post.link}\n                    onChange={handleChange}\n                />\n\n                <br/>\n                <input type=\"submit\" value=\"Update Post\" onClick={updatePost} />\n                <button className=\"deleteButton\" onClick={deletePost}>Delete Post</button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditPost"],"mappings":"2uBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAO,uBAAP,CACA,OAASC,QAAT,KAAyB,WAAzB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAY,IAAVC,KAAU,MAAVA,IAAU,CAEzB,eAAaH,SAAS,EAAtB,CAAOI,EAAP,YAAOA,EAAP,CACA,cAAwBL,QAAQ,CAAC,CAACK,EAAE,CAAE,IAAL,CAAWC,KAAK,CAAE,EAAlB,CAAsBC,OAAO,CAAE,EAA/B,CAAmCC,IAAI,CAAE,EAAzC,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,GAAMC,WAAU,6FAAG,iBAAOC,KAAP,oHACfA,KAAK,CAACC,cAAN,GADe,sBAGTX,SAAQ,CACTY,IADC,CACI,YADJ,EAEDC,MAFC,CAEM,CAACT,KAAK,CAAEG,IAAI,CAACH,KAAb,CAAoBC,OAAO,CAAEE,IAAI,CAACF,OAAlC,CAA2CC,IAAI,CAAEC,IAAI,CAACD,IAAtD,CAFN,EAGDQ,EAHC,CAGE,IAHF,CAGQX,EAHR,CAHS,QAQXY,MAAM,CAACC,QAAP,CAAkB,GAAlB,CARW,sDAAH,kBAAVP,WAAU,6CAAhB,CAWA,GAAMQ,WAAU,6FAAG,kBAAOP,KAAP,wHACfA,KAAK,CAACC,cAAN,GADe,uBAGTX,SAAQ,CACTY,IADC,CACI,YADJ,EAEDM,MAFC,GAGDJ,EAHC,CAGE,IAHF,CAGQX,EAHR,CAHS,QAQfY,MAAM,CAACC,QAAP,CAAkB,wBAAlB,CARe,wDAAH,kBAAVC,WAAU,8CAAhB,CAWA,GAAME,aAAY,CAAG,QAAfA,aAAe,CAACT,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACU,MAA5B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CACAd,OAAO,CAAE,SAACe,IAAD,CAAU,CACf,sCACOA,IADP,wBAEKF,IAFL,CAEWC,KAFX,GAIH,CALM,CAAP,CAMH,CARD,CAUA,mBACI,kCACI,cAAM,SAAS,CAAC,WAAhB,wBACI,cACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,KAFd,CAGI,EAAE,CAAC,OAHP,CAII,IAAI,CAAC,OAJT,CAKI,WAAW,CAAC,OALhB,CAMI,KAAK,CAAEf,IAAI,CAACH,KANhB,CAOI,QAAQ,CAAEe,YAPd,EADJ,cASI,aATJ,cAWI,iBACI,IAAI,CAAC,GADT,CAEI,IAAI,CAAC,IAFT,CAGI,SAAS,CAAC,KAHd,CAII,EAAE,CAAC,SAJP,CAKI,IAAI,CAAC,SALT,CAMI,KAAK,CAAEZ,IAAI,CAACF,OANhB,CAOI,WAAW,CAAC,oBAPhB,CAQI,QAAQ,CAAEc,YARd,EAXJ,cAqBI,aArBJ,cAuBI,cACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,KAFd,CAGI,EAAE,CAAC,MAHP,CAII,IAAI,CAAC,MAJT,CAKI,WAAW,CAAC,sBALhB,CAMI,KAAK,CAAEZ,IAAI,CAACD,IANhB,CAOI,QAAQ,CAAEa,YAPd,EAvBJ,cAiCI,aAjCJ,cAkCI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,aAA3B,CAAyC,OAAO,CAAEV,UAAlD,EAlCJ,cAmCI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAEQ,UAA1C,yBAnCJ,GADJ,EADJ,CAyCH,CA9ED,CAgFA,cAAehB,SAAf"},"metadata":{},"sourceType":"module"}